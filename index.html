<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>OBED COIN - Tap-to-Earn –ò–≥—Ä–∞</title>
    <meta name="theme-color" content="#FF8A00">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Fredoka+One&display=swap" rel="stylesheet">
    <link rel="manifest" href="/manifest.json">
    <style>
        :root {
            --primary: #FF8A00;
            --primary-dark: #E57C00;
            --secondary: #2E7D32;
            --accent: #FFD54F;
            --background: #FFF9F0;
            --card: #FFFFFF;
            --text: #333333;
            --text-light: #666666;
            --shadow: rgba(0, 0, 0, 0.1);
            --success: #4CAF50;
            --warning: #FF9800;
            --rounded: 20px;
            --rounded-sm: 12px;
            --transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background);
            color: var(--text);
            max-width: 100vw;
            min-height: 100vh;
            overflow-x: hidden;
            padding-bottom: 80px;
        }

        /* –®–∞–ø–∫–∞ */
        .header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 15px;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 12px var(--shadow);
        }

        .header h1 {
            font-family: 'Fredoka One', cursive;
            font-size: 1.8rem;
            margin-bottom: 5px;
        }

        .stats-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
            margin-top: 10px;
        }

        .coin-display {
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 15px;
            border-radius: 50px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .coin-display i {
            color: var(--accent);
        }

        .multiplier {
            background: rgba(46, 125, 50, 0.8);
            padding: 8px 15px;
            border-radius: 50px;
            font-weight: 700;
        }

        /* –û—Å–Ω–æ–≤–Ω–∞—è –∏–≥—Ä–æ–≤–∞—è –∑–æ–Ω–∞ */
        .game-area {
            padding: 25px 20px;
            text-align: center;
            position: relative;
        }

        .food-container {
            width: 250px;
            height: 250px;
            margin: 0 auto 30px;
            position: relative;
            cursor: pointer;
            user-select: none;
        }

        .food {
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #FF9800, #FF5722);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5rem;
            transition: var(--transition);
            box-shadow: 0 15px 30px rgba(255, 138, 0, 0.3);
            position: relative;
            overflow: hidden;
        }

        .food:hover {
            transform: scale(1.03);
        }

        .food:active {
            transform: scale(0.97);
        }

        .tap-text {
            position: absolute;
            font-weight: 800;
            color: white;
            pointer-events: none;
            animation: floatUp 1s forwards;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            z-index: 10;
        }

        @keyframes floatUp {
            0% { opacity: 1; transform: translateY(0) scale(1); }
            100% { opacity: 0; transform: translateY(-50px) scale(1.2); }
        }

        .combo-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--warning);
            color: white;
            padding: 5px 10px;
            border-radius: var(--rounded-sm);
            font-weight: 700;
            display: none;
            animation: pulse 0.5s infinite alternate;
        }

        @keyframes pulse {
            from { transform: scale(1); }
            to { transform: scale(1.1); }
        }

        /* –ü–∞–Ω–µ–ª—å —É–ª—É—á—à–µ–Ω–∏–π */
        .upgrades {
            background: var(--card);
            border-radius: var(--rounded);
            padding: 20px;
            margin: 20px;
            box-shadow: 0 5px 15px var(--shadow);
        }

        .upgrades h2 {
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .upgrade-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
        }

        .upgrade-card {
            background: linear-gradient(135deg, #f5f5f5, #ffffff);
            border-radius: var(--rounded-sm);
            padding: 15px;
            text-align: center;
            transition: var(--transition);
            border: 2px solid transparent;
            cursor: pointer;
        }

        .upgrade-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 8px 16px rgba(255, 138, 0, 0.2);
        }

        .upgrade-card i {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .upgrade-card h3 {
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .upgrade-card .cost {
            color: var(--secondary);
            font-weight: 700;
            font-size: 0.9rem;
            margin: 8px 0;
        }

        .upgrade-card button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 0.8rem;
            width: 100%;
            cursor: pointer;
            transition: var(--transition);
        }

        .upgrade-card button:hover {
            background: var(--primary-dark);
        }

        .upgrade-card button:disabled {
            background: #cccccc;
            cursor: not-allowed;
        }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .navigation {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--card);
            display: flex;
            justify-content: space-around;
            padding: 15px 10px;
            box-shadow: 0 -5px 15px var(--shadow);
            z-index: 100;
        }

        .nav-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            background: none;
            border: none;
            color: var(--text-light);
            font-size: 0.8rem;
            padding: 8px 12px;
            border-radius: var(--rounded-sm);
            transition: var(--transition);
            cursor: pointer;
            min-width: 60px;
        }

        .nav-btn i {
            font-size: 1.3rem;
        }

        .nav-btn.active {
            color: var(--primary);
            background: rgba(255, 138, 0, 0.1);
            font-weight: 700;
        }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —ç–∫—Ä–∞–Ω–æ–≤ */
        .screen {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .screen.active {
            display: block;
        }

        /* –≠–∫—Ä–∞–Ω –∑–∞–¥–∞–Ω–∏–π */
        .tasks-container {
            padding: 20px;
        }

        .task-card {
            background: var(--card);
            border-radius: var(--rounded-sm);
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 3px 10px var(--shadow);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .task-info h3 {
            font-size: 1rem;
            margin-bottom: 5px;
        }

        .task-info p {
            font-size: 0.85rem;
            color: var(--text-light);
        }

        .task-progress {
            width: 100%;
            height: 6px;
            background: #eee;
            border-radius: 3px;
            margin: 10px 0;
            overflow: hidden;
        }

        .task-progress-bar {
            height: 100%;
            background: var(--success);
            border-radius: 3px;
            transition: width 0.5s ease;
        }

        .task-reward {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--secondary);
            font-weight: 700;
        }

        /* –≠–∫—Ä–∞–Ω –º–∞–≥–∞–∑–∏–Ω–∞ */
        .shop-container {
            padding: 20px;
        }

        .shop-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            overflow-x: auto;
            padding-bottom: 10px;
        }

        .shop-tab {
            background: #f5f5f5;
            border: none;
            padding: 10px 20px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            white-space: nowrap;
            transition: var(--transition);
        }

        .shop-tab.active {
            background: var(--primary);
            color: white;
        }

        .shop-items {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 15px;
        }

        .shop-item {
            background: var(--card);
            border-radius: var(--rounded-sm);
            padding: 15px;
            text-align: center;
            box-shadow: 0 3px 10px var(--shadow);
        }

        .shop-item h3 {
            font-size: 1rem;
            margin: 10px 0;
        }

        .shop-item .price {
            color: var(--primary);
            font-weight: 800;
            font-size: 1.2rem;
            margin: 10px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }

        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
        .notification {
            position: fixed;
            top: 100px;
            right: 20px;
            background: var(--success);
            color: white;
            padding: 15px 20px;
            border-radius: var(--rounded-sm);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            transform: translateX(150%);
            transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            max-width: 300px;
        }

        .notification.show {
            transform: translateX(0);
        }

        /* –ê–¥–≤–µ–Ω—Ç –∫–∞–ª–µ–Ω–¥–∞—Ä—å */
        .advent-container {
            padding: 20px;
        }

        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
            margin-top: 20px;
        }

        .day {
            aspect-ratio: 1;
            background: #f5f5f5;
            border-radius: var(--rounded-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .day.opened {
            background: var(--success);
            color: white;
        }

        .day.available {
            background: var(--primary);
            color: white;
            animation: pulse 2s infinite;
        }

        .day.locked {
            background: #e0e0e0;
            color: #999;
            cursor: not-allowed;
        }

        /* –ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä */
        .progress-container {
            margin: 20px;
            background: var(--card);
            border-radius: var(--rounded);
            padding: 20px;
            box-shadow: 0 5px 15px var(--shadow);
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .progress-bar {
            height: 20px;
            background: #eee;
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            border-radius: 10px;
            width: 0%;
            transition: width 1s ease;
        }

        /* –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ü–µ–ª—å */
        .global-goal {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            border-radius: var(--rounded);
            padding: 20px;
            margin: 20px;
            text-align: center;
            box-shadow: 0 10px 20px rgba(106, 17, 203, 0.3);
        }

        .global-goal h2 {
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .goal-progress {
            font-size: 1.1rem;
            margin-bottom: 15px;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –º–æ–Ω–µ—Ç–∫–∏ */
        .coin-animation {
            position: absolute;
            width: 30px;
            height: 30px;
            background: radial-gradient(circle at 30% 30%, #FFD700, #FF8A00);
            border-radius: 50%;
            pointer-events: none;
            z-index: 5;
            animation: coinFly 1s forwards;
        }

        @keyframes coinFly {
            0% { opacity: 1; transform: translate(0, 0) scale(1); }
            100% { opacity: 0; transform: translate(var(--tx), var(--ty)) scale(0.5); }
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .food-container {
                width: 200px;
                height: 200px;
            }
            
            .upgrade-grid {
                grid-template-columns: 1fr;
            }
            
            .calendar {
                grid-template-columns: repeat(5, 1fr);
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.5rem;
            }
            
            .calendar {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .shop-items {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- –®–∞–ø–∫–∞ -->
    <div class="header">
        <h1>üçî OBED COIN</h1>
        <div class="stats-bar">
            <div class="coin-display">
                <i class="fas fa-coins"></i>
                <span id="coin-counter">0</span>
            </div>
            <div class="multiplier">
                <span id="multiplier">x1.0</span>
            </div>
            <button id="settings-btn" style="background: none; border: none; color: white; font-size: 1.2rem;">
                <i class="fas fa-cog"></i>
            </button>
        </div>
    </div>

    <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∫–æ–º–±–æ -->
    <div class="combo-indicator" id="combo-indicator">COMBO!</div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä–æ–≤–æ–π —ç–∫—Ä–∞–Ω -->
    <div class="screen active" id="game-screen">
        <div class="game-area">
            <div class="food-container">
                <div class="food" id="food">
                    üçî
                </div>
            </div>
            
            <div class="progress-container">
                <div class="progress-header">
                    <span>–£—Ä–æ–≤–µ–Ω—å <span id="player-level">1</span></span>
                    <span><span id="current-xp">0</span>/<span id="max-xp">100</span></span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="xp-fill"></div>
                </div>
            </div>
            
            <div class="global-goal">
                <h2><i class="fas fa-globe-americas"></i> –ú–∏—Ä–æ–≤–∞—è –∫—É—Ö–Ω—è</h2>
                <p>–í—Å–µ –≤–º–µ—Å—Ç–µ –∑–∞—Ä–∞–±–æ—Ç–∞–ª–∏: <span id="global-coins">1,247,890,456</span> –º–æ–Ω–µ—Ç</p>
                <div class="goal-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 65%"></div>
                    </div>
                    <p>–¶–µ–ª—å: 2 –º–ª—Ä–¥ –º–æ–Ω–µ—Ç ‚Ä¢ –ù–∞–≥—Ä–∞–¥–∞: –†–æ–∑—ã–≥—Ä—ã—à –∞–≤—Ç–æ–º–æ–±–∏–ª—è!</p>
                </div>
            </div>
        </div>
        
        <div class="upgrades">
            <h2><i class="fas fa-chart-line"></i> –£–ª—É—á—à–µ–Ω–∏—è</h2>
            <div class="upgrade-grid" id="upgrade-grid">
                <!-- –£–ª—É—á—à–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
            </div>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –∑–∞–¥–∞–Ω–∏–π -->
    <div class="screen" id="tasks-screen">
        <div class="tasks-container">
            <h2 style="margin: 20px; color: var(--primary);"><i class="fas fa-tasks"></i> –ó–∞–¥–∞–Ω–∏—è</h2>
            <div id="tasks-list">
                <!-- –ó–∞–¥–∞–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
            </div>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –∞–¥–≤–µ–Ω—Ç–∞ -->
    <div class="screen" id="advent-screen">
        <div class="advent-container">
            <h2 style="margin-bottom: 20px; color: var(--primary); text-align: center;">
                <i class="fas fa-calendar-alt"></i> –ö—É–ª–∏–Ω–∞—Ä–Ω—ã–π –∞–¥–≤–µ–Ω—Ç
            </h2>
            <div class="calendar" id="calendar">
                <!-- –î–Ω–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
            </div>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –º–∞–≥–∞–∑–∏–Ω–∞ -->
    <div class="screen" id="shop-screen">
        <div class="shop-container">
            <h2 style="margin-bottom: 20px; color: var(--primary);">
                <i class="fas fa-shopping-cart"></i> –ú–∞–≥–∞–∑–∏–Ω
            </h2>
            <div class="shop-tabs">
                <button class="shop-tab active" data-tab="boosters">–ë—É—Å—Ç—ã</button>
                <button class="shop-tab" data-tab="cosmetics">–ö–æ—Å–º–µ—Ç–∏–∫–∞</button>
                <button class="shop-tab" data-tab="accelerators">–£—Å–∫–æ—Ä–µ–Ω–∏–µ</button>
            </div>
            <div class="shop-items" id="shop-items">
                <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
            </div>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –¥—Ä—É–∑–µ–π -->
    <div class="screen" id="friends-screen">
        <div style="padding: 20px; text-align: center;">
            <h2 style="color: var(--primary); margin-bottom: 20px;">
                <i class="fas fa-users"></i> –î—Ä—É–∑—å—è
            </h2>
            <div style="background: var(--card); border-radius: var(--rounded); padding: 20px; margin-bottom: 20px;">
                <p style="margin-bottom: 15px;">–ü—Ä–∏–≥–ª–∞—Å–∏ –¥—Ä—É–≥–∞ –∏ –ø–æ–ª—É—á–∞–π +3% –∫ –¥–æ—Ö–æ–¥—É –∑–∞ –∫–∞–∂–¥–æ–≥–æ!</p>
                <div style="background: #f5f5f5; padding: 15px; border-radius: var(--rounded-sm); margin-bottom: 15px; word-break: break-all;">
                    <strong>–í–∞—à–∞ —Ä–µ—Ñ-—Å—Å—ã–ª–∫–∞:</strong><br>
                    <span id="ref-link">https://t.me/obedcoin_bot?start=ref_12345</span>
                </div>
                <button id="copy-ref" style="background: var(--primary); color: white; border: none; padding: 12px 25px; border-radius: 50px; font-weight: 600; cursor: pointer; width: 100%;">
                    <i class="fas fa-copy"></i> –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É
                </button>
            </div>
            
            <div style="background: var(--card); border-radius: var(--rounded); padding: 20px;">
                <h3 style="margin-bottom: 15px;">–í–∞—à–∏ –¥—Ä—É–∑—å—è (3)</h3>
                <div style="text-align: left;">
                    <div style="display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #eee;">
                        <span>üë®‚Äçüç≥ –®–µ—Ñ –ê–Ω–¥—Ä–µ–π</span>
                        <span style="color: var(--success);">+3%</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #eee;">
                        <span>üçï –ü–∏—Ü—Ü–∞–º—ç–Ω</span>
                        <span style="color: var(--success);">+3%</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding: 10px 0;">
                        <span>üç£ –°—É—à–∏-–º–∞—Å—Ç–µ—Ä</span>
                        <span style="color: var(--success);">+3%</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <div class="navigation">
        <button class="nav-btn active" data-screen="game">
            <i class="fas fa-gamepad"></i>
            <span>–ò–≥—Ä–∞</span>
        </button>
        <button class="nav-btn" data-screen="tasks">
            <i class="fas fa-tasks"></i>
            <span>–ó–∞–¥–∞–Ω–∏—è</span>
        </button>
        <button class="nav-btn" data-screen="advent">
            <i class="fas fa-calendar-alt"></i>
            <span>–ê–¥–≤–µ–Ω—Ç</span>
        </button>
        <button class="nav-btn" data-screen="shop">
            <i class="fas fa-shopping-cart"></i>
            <span>–ú–∞–≥–∞–∑–∏–Ω</span>
        </button>
        <button class="nav-btn" data-screen="friends">
            <i class="fas fa-users"></i>
            <span>–î—Ä—É–∑—å—è</span>
        </button>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ -->
    <div class="notification" id="notification">
        <div id="notification-text">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ</div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã
        const gameState = {
            coins: 1000,
            multiplier: 1.0,
            tapPower: 1,
            autoClicker: 0,
            playerLevel: 1,
            xp: 0,
            maxXp: 100,
            combo: 0,
            comboTimeout: null,
            foodLevel: 1,
            upgrades: {
                tapSpeed: { level: 1, cost: 100, baseCost: 100, multiplier: 1.25 },
                multiplier: { level: 1, cost: 500, baseCost: 500, multiplier: 1.5 },
                autoClicker: { level: 0, cost: 1000, baseCost: 1000, multiplier: 2.0 }
            },
            tasks: [],
            adventDays: [],
            seasonEvent: {
                active: true,
                name: "–§–µ—Å—Ç–∏–≤–∞–ª—å –£—Ä–æ–∂–∞—è",
                currency: "üçé –Ø–±–ª–æ–∫–∏",
                progress: 0,
                goal: 1000
            }
        };

        // DOM —ç–ª–µ–º–µ–Ω—Ç—ã
        const coinCounter = document.getElementById('coin-counter');
        const multiplierDisplay = document.getElementById('multiplier');
        const food = document.getElementById('food');
        const comboIndicator = document.getElementById('combo-indicator');
        const upgradeGrid = document.getElementById('upgrade-grid');
        const tasksList = document.getElementById('tasks-list');
        const calendar = document.getElementById('calendar');
        const shopItems = document.getElementById('shop-items');
        const playerLevel = document.getElementById('player-level');
        const currentXp = document.getElementById('current-xp');
        const maxXp = document.getElementById('max-xp');
        const xpFill = document.getElementById('xp-fill');
        const notification = document.getElementById('notification');
        const notificationText = document.getElementById('notification-text');

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        function init() {
            updateDisplay();
            setupUpgrades();
            setupTasks();
            setupAdventCalendar();
            setupShop();
            setupNavigation();
            setupEventListeners();
            startAutoClicker();
            showNotification("–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ OBED COIN! –¢–∞–ø–∞–π—Ç–µ –ø–æ –µ–¥–µ, —á—Ç–æ–±—ã –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –º–æ–Ω–µ—Ç—ã!", "success");
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
        function updateDisplay() {
            // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª
            const formatNumber = (num) => {
                if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
                if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
                return num.toString();
            };

            coinCounter.textContent = formatNumber(gameState.coins);
            multiplierDisplay.textContent = `x${gameState.multiplier.toFixed(1)}`;
            playerLevel.textContent = gameState.playerLevel;
            currentXp.textContent = gameState.xp;
            maxXp.textContent = gameState.maxXp;
            xpFill.style.width = `${(gameState.xp / gameState.maxXp) * 100}%`;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –µ–¥—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Ä–æ–≤–Ω—è
            const foodEmojis = ['üçî', 'üçï', 'üåÆ', 'üç£', 'üç©', 'üéÇ'];
            const foodIndex = Math.min(gameState.foodLevel - 1, foodEmojis.length - 1);
            food.textContent = foodEmojis[foodIndex];
        }

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–ª—É—á—à–µ–Ω–∏–π
        function setupUpgrades() {
            const upgrades = [
                { id: 'tapSpeed', icon: '‚ö°', name: '–°–∫–æ—Ä–æ—Å—Ç—å —Ç–∞–ø–∞', desc: '–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –¥–æ—Ö–æ–¥ –∑–∞ –∫–ª–∏–∫' },
                { id: 'multiplier', icon: '‚úñÔ∏è', name: '–ú–Ω–æ–∂–∏—Ç–µ–ª—å', desc: '–£–º–Ω–æ–∂–∞–µ—Ç –≤–µ—Å—å –¥–æ—Ö–æ–¥' },
                { id: 'autoClicker', icon: 'ü§ñ', name: '–ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä', desc: '–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–ª–∏–∫–∞–µ—Ç –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É' }
            ];

            upgradeGrid.innerHTML = '';
            upgrades.forEach(upgrade => {
                const data = gameState.upgrades[upgrade.id];
                const card = document.createElement('div');
                card.className = 'upgrade-card';
                card.innerHTML = `
                    <div>${upgrade.icon}</div>
                    <h3>${upgrade.name}</h3>
                    <p style="font-size: 0.8rem; color: var(--text-light); margin-bottom: 10px;">${upgrade.desc}</p>
                    <div class="cost">${formatNumber(data.cost)} –º–æ–Ω–µ—Ç</div>
                    <div style="font-size: 0.8rem; margin-bottom: 10px;">–£—Ä–æ–≤–µ–Ω—å: ${data.level}</div>
                    <button onclick="buyUpgrade('${upgrade.id}')" ${gameState.coins < data.cost ? 'disabled' : ''}>
                        –£–ª—É—á—à–∏—Ç—å
                    </button>
                `;
                upgradeGrid.appendChild(card);
            });
        }

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–¥–∞–Ω–∏–π
        function setupTasks() {
            const tasks = [
                { id: 1, name: "–ü–µ—Ä–≤—ã–µ —à–∞–≥–∏", desc: "–°–¥–µ–ª–∞–π—Ç–µ 100 —Ç–∞–ø–æ–≤", progress: 0, goal: 100, reward: 500, type: "taps" },
                { id: 2, name: "–£–ª—É—á—à–µ–Ω–∏–µ –∫—É—Ö–Ω–∏", desc: "–ö—É–ø–∏—Ç–µ 3 —É–ª—É—á—à–µ–Ω–∏—è", progress: 0, goal: 3, reward: 1000, type: "upgrades" },
                { id: 3, name: "–ú–∞—Å—Ç–µ—Ä –∫–æ–º–±–æ", desc: "–°–¥–µ–ª–∞–π—Ç–µ –∫–æ–º–±–æ x5", progress: 0, goal: 5, reward: 2000, type: "combo" },
                { id: 4, name: "–ë–æ–≥–∞—Ç—ã–π –≥—É—Ä–º–∞–Ω", desc: "–ó–∞—Ä–∞–±–æ—Ç–∞–π—Ç–µ 10,000 –º–æ–Ω–µ—Ç", progress: 0, goal: 10000, reward: 5000, type: "coins" }
            ];

            gameState.tasks = tasks;
            renderTasks();
        }

        function renderTasks() {
            tasksList.innerHTML = '';
            gameState.tasks.forEach(task => {
                const progressPercent = (task.progress / task.goal) * 100;
                const card = document.createElement('div');
                card.className = 'task-card';
                card.innerHTML = `
                    <div class="task-info">
                        <h3>${task.name}</h3>
                        <p>${task.desc}</p>
                        <div class="task-progress">
                            <div class="task-progress-bar" style="width: ${progressPercent}%"></div>
                        </div>
                        <p>${task.progress}/${task.goal}</p>
                    </div>
                    <div class="task-reward">
                        <i class="fas fa-coins"></i>
                        <span>${formatNumber(task.reward)}</span>
                        <button onclick="claimTaskReward(${task.id})" 
                                style="background: var(--primary); color: white; border: none; padding: 8px 15px; border-radius: 50px; font-size: 0.8rem; cursor: pointer;"
                                ${task.progress >= task.goal ? '' : 'disabled'}>
                            ${task.progress >= task.goal ? '–ü–æ–ª—É—á–∏—Ç—å' : '...'}
                        </button>
                    </div>
                `;
                tasksList.appendChild(card);
            });
        }

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–¥–≤–µ–Ω—Ç-–∫–∞–ª–µ–Ω–¥–∞—Ä—è
        function setupAdventCalendar() {
            calendar.innerHTML = '';
            const today = new Date().getDate();
            
            for (let day = 1; day <= 24; day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'day';
                
                if (day < today) {
                    dayElement.classList.add('opened');
                    dayElement.textContent = 'üéÅ';
                    dayElement.title = `–î–µ–Ω—å ${day}: –û—Ç–∫—Ä—ã—Ç–æ!`;
                } else if (day === today) {
                    dayElement.classList.add('available');
                    dayElement.textContent = day;
                    dayElement.title = '–û—Ç–∫—Ä—ã—Ç—å —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –ø–æ–¥–∞—Ä–æ–∫!';
                    dayElement.onclick = () => openAdventDay(day);
                } else {
                    dayElement.classList.add('locked');
                    dayElement.textContent = day;
                    dayElement.title = `–û—Ç–∫—Ä–æ–µ—Ç—Å—è —á–µ—Ä–µ–∑ ${day - today} –¥–Ω–µ–π`;
                }
                
                calendar.appendChild(dayElement);
            }
        }

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞–≥–∞–∑–∏–Ω–∞
        function setupShop() {
            const shopData = {
                boosters: [
                    { id: 1, name: "2x –î–æ—Ö–æ–¥", desc: "–ù–∞ 30 –º–∏–Ω—É—Ç", price: 1000, icon: "üöÄ" },
                    { id: 2, name: "–ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä x2", desc: "–ù–∞ 1 —á–∞—Å", price: 2500, icon: "ü§ñ" },
                    { id: 3, name: "–ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ–µ –∫–æ–º–±–æ", desc: "–ù–∞ 15 –º–∏–Ω—É—Ç", price: 5000, icon: "‚ôæÔ∏è" }
                ],
                cosmetics: [
                    { id: 4, name: "–ó–æ–ª–æ—Ç–∞—è –∫—É—Ö–Ω—è", desc: "–°–∫–∏–Ω —Ñ–æ–Ω–∞", price: 10000, icon: "üé®" },
                    { id: 5, name: "–ù–µ–æ–Ω–æ–≤—ã–π –±—É—Ä–≥–µ—Ä", desc: "–°–∫–∏–Ω –µ–¥—ã", price: 15000, icon: "üçî" }
                ],
                accelerators: [
                    { id: 6, name: "–ü—Ä–æ–ø—É—Å–∫ —É—Ä–æ–≤–Ω—è", desc: "–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ +1 —É—Ä–æ–≤–µ–Ω—å", price: 50000, icon: "‚ö°" },
                    { id: 7, name: "–ú–µ–≥–∞–ø–∞–∫–µ—Ç", desc: "100,000 –º–æ–Ω–µ—Ç", price: 1000, icon: "üí∞" }
                ]
            };

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤–∫–ª–∞–¥–æ–∫ –º–∞–≥–∞–∑–∏–Ω–∞
            document.querySelectorAll('.shop-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('.shop-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    const tabId = this.dataset.tab;
                    renderShopItems(shopData[tabId]);
                });
            });

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–µ—Ä–≤—É—é –≤–∫–ª–∞–¥–∫—É
            renderShopItems(shopData.boosters);
        }

        function renderShopItems(items) {
            shopItems.innerHTML = '';
            items.forEach(item => {
                const itemElement = document.createElement('div');
                itemElement.className = 'shop-item';
                itemElement.innerHTML = `
                    <div style="font-size: 2rem;">${item.icon}</div>
                    <h3>${item.name}</h3>
                    <p style="font-size: 0.9rem; color: var(--text-light); margin: 10px 0;">${item.desc}</p>
                    <div class="price">
                        <i class="fas fa-coins"></i>
                        <span>${formatNumber(item.price)}</span>
                    </div>
                    <button style="background: var(--primary); color: white; border: none; padding: 10px 20px; border-radius: 50px; width: 100%; cursor: pointer; font-weight: 600;"
                            onclick="buyShopItem(${item.id})"
                            ${gameState.coins < item.price ? 'disabled' : ''}>
                        –ö—É–ø–∏—Ç—å
                    </button>
                `;
                shopItems.appendChild(itemElement);
            });
        }

        // –ù–∞–≤–∏–≥–∞—Ü–∏—è
        function setupNavigation() {
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const screenId = this.dataset.screen;
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
                    document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—ã–π —ç–∫—Ä–∞–Ω
                    document.querySelectorAll('.screen').forEach(screen => {
                        screen.classList.remove('active');
                    });
                    document.getElementById(`${screenId}-screen`).classList.add('active');
                });
            });
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        function setupEventListeners() {
            // –¢–∞–ø –ø–æ –µ–¥–µ
            food.addEventListener('click', handleTap);
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
            document.getElementById('settings-btn').addEventListener('click', () => {
                showNotification("–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Å–ª–µ–¥—É—é—â–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏!", "info");
            });
            
            // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Ñ-—Å—Å—ã–ª–∫–∏
            document.getElementById('copy-ref').addEventListener('click', () => {
                navigator.clipboard.writeText(document.getElementById('ref-link').textContent);
                showNotification("–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!", "success");
            });
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–ø–∞
        function handleTap(event) {
            // –†–∞—Å—á–µ—Ç –¥–æ—Ö–æ–¥–∞
            let earned = gameState.tapPower * gameState.multiplier;
            
            // –ë–æ–Ω—É—Å –∑–∞ –∫–æ–º–±–æ
            if (gameState.combo >= 5) {
                earned *= 2;
            }
            
            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–æ–Ω–µ—Ç
            gameState.coins += earned;
            
            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–ø—ã—Ç–∞
            addXp(1);
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è "—Ç–∞–ø—ã"
            updateTaskProgress('taps', 1);
            
            // –°–æ–∑–¥–∞–Ω–∏–µ –ª–µ—Ç–∞—é—â–µ–π –º–æ–Ω–µ—Ç–∫–∏
            createCoinAnimation(event);
            
            // –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ "+X"
            createTapText(event, `+${formatNumber(earned)}`);
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–±–æ
            handleCombo();
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
            updateDisplay();
            setupUpgrades();
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–≤–æ–ª—é—Ü–∏–∏ –µ–¥—ã
            checkFoodEvolution();
        }

        // –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–±–æ
        function handleCombo() {
            gameState.combo++;
            
            if (gameState.combo >= 5) {
                comboIndicator.style.display = 'block';
                comboIndicator.textContent = `COMBO x${gameState.combo}!`;
                updateTaskProgress('combo', gameState.combo);
            }
            
            // –°–±—Ä–æ—Å –∫–æ–º–±–æ —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
            clearTimeout(gameState.comboTimeout);
            gameState.comboTimeout = setTimeout(() => {
                gameState.combo = 0;
                comboIndicator.style.display = 'none';
            }, 2000);
        }

        // –ü–æ–∫—É–ø–∫–∞ —É–ª—É—á—à–µ–Ω–∏—è
        function buyUpgrade(upgradeId) {
            const upgrade = gameState.upgrades[upgradeId];
            
            if (gameState.coins >= upgrade.cost) {
                gameState.coins -= upgrade.cost;
                upgrade.level++;
                
                // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏—è
                switch(upgradeId) {
                    case 'tapSpeed':
                        gameState.tapPower = 1 + (upgrade.level * 0.5);
                        break;
                    case 'multiplier':
                        gameState.multiplier = 1 + (upgrade.level * 0.2);
                        break;
                    case 'autoClicker':
                        gameState.autoClicker = upgrade.level;
                        break;
                }
                
                // –ü–µ—Ä–µ—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏
                upgrade.cost = Math.floor(upgrade.baseCost * Math.pow(upgrade.multiplier, upgrade.level - 1));
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è
                updateTaskProgress('upgrades', 1);
                
                // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                showNotification(`–£–ª—É—á—à–µ–Ω–∏–µ –∫—É–ø–ª–µ–Ω–æ! –£—Ä–æ–≤–µ–Ω—å ${upgrade.level}`, "success");
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
                updateDisplay();
                setupUpgrades();
            } else {
                showNotification("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç!", "warning");
            }
        }

        // –ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä
        function startAutoClicker() {
            setInterval(() => {
                if (gameState.autoClicker > 0) {
                    const autoEarned = gameState.autoClicker * 10 * gameState.multiplier;
                    gameState.coins += autoEarned;
                    addXp(gameState.autoClicker);
                    updateDisplay();
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Ä–∞–∑ –≤ 10 —Å–µ–∫—É–Ω–¥
                    if (Math.random() < 0.1) {
                        showNotification(`–ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä: +${formatNumber(autoEarned)}`, "info");
                    }
                }
            }, 1000);
        }

        // –°–∏—Å—Ç–µ–º–∞ —É—Ä–æ–≤–Ω–µ–π
        function addXp(amount) {
            gameState.xp += amount;
            
            while (gameState.xp >= gameState.maxXp) {
                gameState.xp -= gameState.maxXp;
                gameState.playerLevel++;
                gameState.maxXp = Math.floor(gameState.maxXp * 1.5);
                
                // –ù–∞–≥—Ä–∞–¥–∞ –∑–∞ —É—Ä–æ–≤–µ–Ω—å
                const levelReward = gameState.playerLevel * 1000;
                gameState.coins += levelReward;
                
                showNotification(`–£—Ä–æ–≤–µ–Ω—å ${gameState.playerLevel}! –ù–∞–≥—Ä–∞–¥–∞: ${formatNumber(levelReward)} –º–æ–Ω–µ—Ç`, "success");
                
                // –≠–≤–æ–ª—é—Ü–∏—è –µ–¥—ã –∫–∞–∂–¥—ã–µ 5 —É—Ä–æ–≤–Ω–µ–π
                if (gameState.playerLevel % 5 === 0) {
                    gameState.foodLevel++;
                    showNotification(`–ù–æ–≤–∞—è –µ–¥–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞!`, "success");
                }
            }
            
            updateDisplay();
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–≤–æ–ª—é—Ü–∏–∏ –µ–¥—ã
        function checkFoodEvolution() {
            const evolutionThresholds = [1000, 5000, 25000, 100000, 500000];
            for (let i = 0; i < evolutionThresholds.length; i++) {
                if (gameState.coins >= evolutionThresholds[i] && gameState.foodLevel < i + 2) {
                    gameState.foodLevel = i + 2;
                    showNotification(`–ï–¥–∞ —ç–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–ª–∞! –ù–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å: ${gameState.foodLevel}`, "success");
                }
            }
        }

        // –ó–∞–¥–∞–Ω–∏—è
        function updateTaskProgress(type, amount) {
            gameState.tasks.forEach(task => {
                if (task.type === type) {
                    if (type === 'coins') {
                        if (gameState.coins > task.progress) {
                            task.progress = Math.min(gameState.coins, task.goal);
                        }
                    } else if (type === 'combo') {
                        task.progress = Math.max(task.progress, amount);
                    } else {
                        task.progress = Math.min(task.progress + amount, task.goal);
                    }
                }
            });
            renderTasks();
        }

        function claimTaskReward(taskId) {
            const task = gameState.tasks.find(t => t.id === taskId);
            if (task && task.progress >= task.goal) {
                gameState.coins += task.reward;
                showNotification(`–ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ! +${formatNumber(task.reward)} –º–æ–Ω–µ—Ç`, "success");
                
                // –ü–æ–º–µ—á–∞–µ–º –∑–∞–¥–∞–Ω–∏–µ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ
                task.progress = task.goal + 1; // –ß—Ç–æ–±—ã –∫–Ω–æ–ø–∫–∞ —Å–Ω–æ–≤–∞ —Å—Ç–∞–ª–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ–π
                renderTasks();
                updateDisplay();
            }
        }

        // –ê–¥–≤–µ–Ω—Ç
        function openAdventDay(day) {
            const reward = day * 1000;
            gameState.coins += reward;
            showNotification(`–î–µ–Ω—å ${day}: +${formatNumber(reward)} –º–æ–Ω–µ—Ç!`, "success");
            updateDisplay();
            setupAdventCalendar(); // –û–±–Ω–æ–≤–ª—è–µ–º –∫–∞–ª–µ–Ω–¥–∞—Ä—å
        }

        // –ú–∞–≥–∞–∑–∏–Ω
        function buyShopItem(itemId) {
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª–∞ –±—ã –ª–æ–≥–∏–∫–∞ –ø–æ–∫—É–ø–∫–∏
            showNotification("–ü–æ–∫—É–ø–∫–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è... (–¥–µ–º–æ-–≤–µ—Ä—Å–∏—è)", "info");
        }

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function formatNumber(num) {
            if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
            if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
            return Math.floor(num).toString();
        }

        function showNotification(message, type = "info") {
            notificationText.textContent = message;
            
            // –¶–≤–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞
            const colors = {
                success: '#4CAF50',
                warning: '#FF9800',
                info: '#2196F3',
                error: '#F44336'
            };
            
            notification.style.background = colors[type] || colors.info;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        function createCoinAnimation(event) {
            const coin = document.createElement('div');
            coin.className = 'coin-animation';
            
            // –ü–æ–∑–∏—Ü–∏—è –∫–ª–∏–∫–∞
            const rect = food.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = event.clientY - rect.top;
            
            coin.style.left = `${x - 15}px`;
            coin.style.top = `${y - 15}px`;
            
            // –°–ª—É—á–∞–π–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫ —Å—á–µ—Ç—á–∏–∫—É –º–æ–Ω–µ—Ç
            const targetX = 100 + Math.random() * 50;
            const targetY = -100 - Math.random() * 50;
            
            coin.style.setProperty('--tx', `${targetX}px`);
            coin.style.setProperty('--ty', `${targetY}px`);
            
            food.appendChild(coin);
            
            // –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
            setTimeout(() => {
                if (coin.parentNode) {
                    coin.parentNode.removeChild(coin);
                }
            }, 1000);
        }

        function createTapText(event, text) {
            const tapText = document.createElement('div');
            tapText.className = 'tap-text';
            tapText.textContent = text;
            
            const rect = food.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = event.clientY - rect.top;
            
            tapText.style.left = `${x}px`;
            tapText.style.top = `${y}px`;
            
            food.appendChild(tapText);
            
            // –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
            setTimeout(() => {
                if (tapText.parentNode) {
                    tapText.parentNode.removeChild(tapText);
                }
            }, 1000);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('DOMContentLoaded', init);
        
        // PWA —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js').catch(err => {
                    console.log('ServiceWorker registration failed: ', err);
                });
            });
        }
    </script>
</body>
</html>
